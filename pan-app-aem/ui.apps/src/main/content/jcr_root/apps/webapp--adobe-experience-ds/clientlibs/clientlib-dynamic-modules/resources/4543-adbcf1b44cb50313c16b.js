(self.webpackChunkwebapp_adobe_experience_ds=self.webpackChunkwebapp_adobe_experience_ds||[]).push([[4543],{1122:function(t,e,n){"use strict";n.d(e,{D:function(){return i}});var i=function(t){return!!/\S+@\S+\.\S+/.test(t)}},2928:function(t,e,n){"use strict";n.r(e)},4543:function(t,e,n){"use strict";n.r(e),n.d(e,{FormularioDinamicoImagemInteiraLead:function(){return c}});n(7144);var i=n(1122),r=function(t){return new RegExp(/^\([1-9]{2}\) (?:[2-8]|9[0-9])[0-9]{3}\-[0-9]{4}$/).test(t)},a=function(t){if(14==t.length){var e=t.trim();e=(e=(e=e.replace(/\./g,"")).replace("-","")).split("");for(var n=0,i=0,r=!1,a=1;e.length>a;a++)e[a-1]!=e[a]&&(r=!0);if(0==r)return!1;a=0;for(var u=10;e.length-2>a;a++,u--)n+=parseInt(e[a])*u;if(10==(n=10*n%11)&&(n=0),n!=parseInt(e[9]))return!1;for(a=0,u=11;e.length-1>a;a++,u--)i+=parseInt(e[a])*u;return 10==(i=10*i%11)&&(i=0),i==parseInt(e[10])}if(18==t.length){var o=t.trim();o=(o=(o=(o=o.replace(/\./g,"")).replace("-","")).replace("/","")).split("");for(n=0,i=0,r=!1,a=1;o.length>a;a++)o[a-1]!=o[a]&&(r=!0);if(0==r)return!1;a=0;for(var s=5,p=13;o.length-2>a;a++,s--,p--)n+=s>=2?parseInt(o[a])*s:parseInt(o[a])*p;if((n=(n%=11)<2?0:11-n)!=parseInt(o[12]))return!1;for(a=0,s=6,p=14;o.length-1>a;a++,s--,p--)i+=s>=2?parseInt(o[a])*s:parseInt(o[a])*p;return(i=(i%=11)<2?0:11-i)==parseInt(o[13])}return!1},u=function(t){var e=t.target.value.replace(/\D/g,""),n="";return t.target.value.length<=14&&(e.length>0&&(n+=e.substring(0,3)),e.length>3&&(n+="."+e.substring(3,6)),e.length>6&&(n+="."+e.substring(6,9)),e.length>9&&(n+="-"+e.substring(9,11))),t.target.value.length>14&&(e.length>0&&(n+=e.substring(0,2)),e.length>2&&(n+="."+e.substring(2,5)),e.length>5&&(n+="."+e.substring(5,8)),e.length>8&&(n+="/"+e.substring(8,12)),e.length>12&&(n+="-"+e.substring(12,14))),n},o=n(6590),s=function(t,e,n,i){return new(n||(n=Promise))(function(r,a){function u(t){try{s(i.next(t))}catch(t){a(t)}}function o(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,o)}s((i=i.apply(t,e||[])).next())})},p=function(t,e){var n,i,r,a,u={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(u=0)),u;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,i=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(r=u.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){u.label=o[1];break}if(6===o[0]&&u.label<r[1]){u.label=r[1],r=o;break}if(r&&u.label<r[2]){u.label=r[2],u.ops.push(o);break}r[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(){function t(){var t=this;this.recaptchaResponse="",this.nomeInput=document.querySelector("[data-js=dynamic-forms-one-column-input-data-nome]"),this.emailInput=document.querySelector("[data-js=dynamic-forms-one-column-input-data-email]"),this.phoneInput=document.querySelector("[data-js=dynamic-forms-one-column-input-data-telefone]"),this.cpfInput=document.querySelector("[data-js=dynamic-forms-one-column-input-data-cpf]"),this.cnpjInput=document.querySelector("[data-js=dynamic-forms-one-column-input-data-cnpj]"),this.cpfOrCnpjInput=document.querySelector("[data-js=dynamic-forms-one-column-input-data-cpf-cnpj]"),this.currencyInput=document.querySelector("[data-js=dynamic-forms-one-column-input-data-currency]"),this.dateOfBirthInput=document.querySelector("[data-js=dynamic-forms-one-column-input-data-date-of-birth]"),this.checkboxInputWrapper=document.querySelector("[data-js=dynamic-forms-one-column-input-data-checkbox]"),this.allRequiredInputs=document.querySelectorAll("[required=true]"),this.allValidInputs=Array.from(this.allRequiredInputs).every(function(t){return"true"===t.getAttribute("data-valid")}),this.formDinamicoOneColumn=document.querySelector("[data-js=dynamic-forms-one-column-form]"),this.formDinamicoOneColumnFeedback=document.querySelector("[data-js=dynamic-forms-one-column-feedback]"),this.formDinamicoOneColumnEndPoint=document.querySelector("[data-js=dynamic-forms-one-column-endpoint]"),this.formDinamicoOneColumnOriginURL=window.location.origin+window.location.pathname,this.formDinamicoOneColumnGroup=document.querySelector("[data-js=dynamic-forms-one-column-group]"),this.formDinamicoOneColumnSiteKey=document.querySelector("[data-js=lead__captcha-siteKey]"),this.formDinamicoOneColumnFormError=document.querySelector("[data-js=dynamic-forms-one-column-form-error]"),this.data={},this.submitButton=document.querySelector("[data-js=dynamic-forms-one-column-submit-button]"),this.wrapperCheckbox=document.querySelector("[data-js=dynamic-forms-one-column-wrapper-data-checkbox]"),this.validateCpf=function(e){if(t.isCPFValid=a(t.cpfInput.querySelector("input").value),t.cpfInput.setAttribute("data-valid",a(e.target.value).toString()),!t.isCPFValid)return t.cpfInput.setAttribute("invalid","true"),void t.cpfInput.setAttribute("support-message","Por favor informe um CPF válido.");t.cpfInput.removeAttribute("invalid"),t.cpfInput.setAttribute("support-message","");var n=t.cpfInput.getAttribute("data-name");t.cpfInput.querySelector("input").dataset.name=n,t.data[n]=t.cpfInput.querySelector("input").value},this.validateCnpj=function(e){if(t.isCNPJValid=a(t.cnpjInput.querySelector("input").value),t.cnpjInput.setAttribute("data-valid",a(e.target.value).toString()),!t.isCNPJValid)return t.cnpjInput.setAttribute("invalid","true"),void t.cnpjInput.setAttribute("support-message","Por favor informe um CNPJ válido.");t.cnpjInput.removeAttribute("invalid"),t.cnpjInput.setAttribute("support-message","");var n=t.cnpjInput.getAttribute("data-name");t.cnpjInput.querySelector("input").dataset.name=n,t.data[n]=t.cnpjInput.querySelector("input").value},this.validateCpfOrCnpj=function(e){if(t.isCpfOrCnpjValid=a(t.cpfOrCnpjInput.querySelector("input").value),t.cpfOrCnpjInput.setAttribute("data-valid",a(e.target.value).toString()),!t.isCpfOrCnpjValid)return t.cpfOrCnpjInput.setAttribute("invalid","true"),void t.cpfOrCnpjInput.setAttribute("support-message","Por favor informe um CPF ou um CNPJ válido.");t.cpfOrCnpjInput.removeAttribute("invalid"),t.cpfOrCnpjInput.setAttribute("support-message","");var n=t.cpfOrCnpjInput.getAttribute("data-name");t.cpfOrCnpjInput.querySelector("input").dataset.name=n,t.data[n]=t.cpfOrCnpjInput.querySelector("input").value},this.handleSubmit=function(e){e.preventDefault(),t.sendFormData()},setTimeout(function(){t.addOriginAndGroupData(),t.initFormEventNome(),t.initFormEventEmail(),t.initFormEventTelefone(),t.initFormEventCpf(),t.initFormEventCnpj(),t.initFormEventCpfOrCnpj(),t.initFormEventCurrency(),t.initFormEventBirthDay(),t.initFormEventCheckbox(),t.submitButton.addEventListener("click",t.handleSubmit),t.getCaptchaToken()},1e3)}return t.prototype.getCaptchaToken=function(){var t;return s(this,void 0,void 0,function(){var e;return p(this,function(n){switch(n.label){case 0:return[4,(0,o.Hh)(null===(t=this.formDinamicoOneColumnSiteKey)||void 0===t?void 0:t.value,{useEnterprise:!0})];case 1:return[4,n.sent().execute("SIGNUP")];case 2:return e=n.sent(),this.recaptchaResponse=e,e&&(this.isCaptchaValid=!0),[2]}})})},t.prototype.initFormEventNome=function(){var t=this;this.nomeInput&&this.nomeInput.querySelector("input").addEventListener("blur",function(e){t.validateName(),t.checkFormValidity()})},t.prototype.initFormEventCurrency=function(){var t=this;this.currencyInput&&this.currencyInput.querySelector("input").addEventListener("blur",function(e){t.checkFormValidity(),t.validateCurrency()})},t.prototype.initFormEventBirthDay=function(){var t=this;this.dateOfBirthInput&&this.dateOfBirthInput.querySelector("input").addEventListener("blur",function(e){t.checkFormValidity(),t.validateBirthDay()})},t.prototype.initFormEventEmail=function(){var t=this;this.emailInput&&this.emailInput.querySelector("input").addEventListener("blur",function(e){t.isEmailValid=(0,i.D)(e.target.value),t.emailInput.setAttribute("data-valid",(0,i.D)(e.target.value).toString()),t.changeEmailState(),t.checkFormValidity()})},t.prototype.initFormEventTelefone=function(){var t=this;this.phoneInput&&(this.phoneInput.querySelector("input").addEventListener("blur",function(e){t.isCelularValid=r(e.target.value),t.phoneInput.setAttribute("data-valid",r(e.target.value).toString()),t.validateCelular(),t.checkFormValidity()}),this.usePhoneMask())},t.prototype.initFormEventCpf=function(){var t=this;this.cpfInput&&(this.cpfInput.querySelector("input").addEventListener("blur",function(e){t.validateCpf(e),t.checkFormValidity()}),this.useCpfMask())},t.prototype.initFormEventCnpj=function(){var t=this;this.cnpjInput&&(this.cnpjInput.querySelector("input").addEventListener("blur",function(e){t.validateCnpj(e),t.checkFormValidity()}),this.useCnpjMask())},t.prototype.initFormEventCpfOrCnpj=function(){var t=this;this.cpfOrCnpjInput&&(this.cpfOrCnpjInput.querySelector("input").addEventListener("blur",function(e){t.validateCpfOrCnpj(e),t.checkFormValidity()}),this.useCpfOrCnpjMask())},t.prototype.initFormEventCheckbox=function(){var t=this;this.wrapperCheckbox&&this.wrapperCheckbox.querySelector("input").addEventListener("click",function(e){t.validateCheckbox(),t.checkFormValidity()})},t.prototype.validateCheckbox=function(){var t=this.checkboxInputWrapper.querySelector("input");"true"===this.wrapperCheckbox.getAttribute("required")&&(t.checked?(this.wrapperCheckbox.classList.remove("error"),this.wrapperCheckbox.setAttribute("data-valid","true")):(this.wrapperCheckbox.classList.add("error"),this.wrapperCheckbox.setAttribute("data-valid","false"))),this.data[t.name]=t.checked},t.prototype.validateName=function(){var t,e;if(this.isNomeValid=(t=this.nomeInput.querySelector("input").value,e=t.split(" ")[0],!(!/^([a-zA-Zà-úÀ-Ú]|\s+)+$/.test(t)||!/[A-z][ ][A-z]/.test(t)||e.length<3)),"true"===this.nomeInput.getAttribute("required")){if(!this.isNomeValid)return this.nomeInput.setAttribute("invalid","true"),this.nomeInput.setAttribute("support-message","Por favor informe seu nome completo."),void this.nomeInput.setAttribute("data-valid","false");this.nomeInput.removeAttribute("invalid"),this.nomeInput.setAttribute("support-message",""),this.nomeInput.setAttribute("data-valid","true")}var n=this.nomeInput.getAttribute("data-name");this.nomeInput.querySelector("input").dataset.name=n,this.data[n]=this.nomeInput.querySelector("input").value},t.prototype.changeEmailState=function(){if(!this.isEmailValid)return this.emailInput.setAttribute("invalid","true"),this.emailInput.setAttribute("support-message","Por favor informe um e-mail válido."),void this.emailInput.setAttribute("data-valid","false");this.emailInput.removeAttribute("invalid"),this.emailInput.setAttribute("support-message",""),this.emailInput.setAttribute("data-valid","true");var t=this.emailInput.getAttribute("data-name");this.emailInput.querySelector("input").dataset.name=t,this.data[t]=this.emailInput.querySelector("input").value},t.prototype.validateCurrency=function(){if("true"===this.currencyInput.getAttribute("required")){if(""==this.currencyInput.querySelector("input").value)return this.currencyInput.setAttribute("data-valid","false"),this.currencyInput.setAttribute("invalid","true"),void this.currencyInput.setAttribute("support-message","Por favor informe um valor.");this.currencyInput.setAttribute("data-valid","true"),this.currencyInput.removeAttribute("invalid"),this.currencyInput.setAttribute("support-message","")}var t=this.currencyInput.getAttribute("data-name");this.currencyInput.querySelector("input").dataset.name=t,this.data[t]=this.currencyInput.querySelector("input").value},t.prototype.validateBirthDay=function(){if("true"===this.dateOfBirthInput.getAttribute("required")){if(""==this.dateOfBirthInput.querySelector("input").value)return this.dateOfBirthInput.setAttribute("data-valid","false"),this.dateOfBirthInput.setAttribute("invalid","true"),void this.dateOfBirthInput.setAttribute("support-message","Por favor informe sua data de nascimento.");this.dateOfBirthInput.setAttribute("data-valid","true"),this.dateOfBirthInput.removeAttribute("invalid"),this.dateOfBirthInput.setAttribute("support-message","")}var t=this.dateOfBirthInput.getAttribute("data-name");this.dateOfBirthInput.querySelector("input").dataset.name=t,this.data[t]=this.dateOfBirthInput.querySelector("input").value},t.prototype.validateCelular=function(){if(this.isCelularValid=r(this.phoneInput.querySelector("input").value),!this.isCelularValid)return this.phoneInput.setAttribute("invalid","true"),void this.phoneInput.setAttribute("support-message","Por favor informe um telefone válido.");this.phoneInput.removeAttribute("invalid"),this.phoneInput.setAttribute("support-message","");var t=this.phoneInput.getAttribute("data-name");this.phoneInput.querySelector("input").dataset.name=t,this.data[t]=this.phoneInput.querySelector("input").value.replace(/[\(\)\.\s-]+/g,"")},t.prototype.usePhoneMask=function(){this.phoneInput.addEventListener("input",function(t){t.target.setAttribute("maxlength","15"),t.target.value=function(t){var e=t.target.value.replace(/\D/g,""),n="";return e.length>0&&(n+="("+e.substring(0,2)),e.length>2&&(n+=") "+e.substring(2,7)),e.length>7&&(n+="-"+e.substring(7,11)),n}(t)})},t.prototype.useCpfMask=function(){this.cpfInput.addEventListener("input",function(t){t.target.setAttribute("maxlength","14"),t.target.value=u(t)})},t.prototype.useCnpjMask=function(){this.cnpjInput.addEventListener("input",function(t){t.target.setAttribute("maxlength","18"),t.target.value=u(t)})},t.prototype.useCpfOrCnpjMask=function(){this.cpfOrCnpjInput.addEventListener("input",function(t){t.target.setAttribute("maxlength","18"),t.target.value=u(t)})},t.prototype.addOriginAndGroupData=function(){this.data.URL=this.formDinamicoOneColumnOriginURL,this.data.GRUPO=this.formDinamicoOneColumnGroup.value},t.prototype.checkFormValidity=function(){var t=document.querySelectorAll("[required=true]");this.allValidInputs=Array.from(t).every(function(t){return"true"===t.getAttribute("data-valid")}),this.isCaptchaValid&&(this.submitButton.disabled=!this.allValidInputs)},t.prototype.sendFormData=function(){var t,e=this,n=this.formDinamicoOneColumnEndPoint.value,i={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Authorization-Captcha":this.recaptchaResponse,SiteKey:null===(t=this.formDinamicoOneColumnSiteKey)||void 0===t?void 0:t.value},body:JSON.stringify(this.data)};fetch(n,i).then(function(t){t.status>=200&&t.status<400?e.handleSuccess():e.handleError()}).catch(function(){e.handleError()})},t.prototype.handleSuccess=function(){this.formDinamicoOneColumn.classList.add("d-none"),this.formDinamicoOneColumnFeedback.classList.add("d-block"),this.clearFields()},t.prototype.handleError=function(){this.formDinamicoOneColumnFormError.classList.add("d-block"),this.clearFields()},t.prototype.clearFields=function(){var t=document.querySelectorAll("[data-all-inputs=dynamic-forms-one-column-input-text]"),e=document.querySelectorAll("[data-all-inputs=dynamic-forms-one-column-input-checkbox]");t.forEach(function(t){t.querySelector("input").value=""}),e.forEach(function(t){t.querySelector("input").checked=!1}),this.isNomeValid=!1,this.isEmailValid=!1,this.isCelularValid=!1,this.isCPFValid=!1,this.isCNPJValid=!1,this.isCpfOrCnpjValid=!1,this.isCaptchaValid=!1,this.submitButton.disabled=!0},t}();new c},7144:function(t,e,n){var i=n(2928);"string"==typeof i&&(i=[[t.id,i,""]]);n(1023)(i,{});i.locals&&(t.exports=i.locals)}}]);